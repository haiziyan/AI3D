# é¡¹ç›®ç»“æ„è¯´æ˜

```
AI3D/
â”‚
â”œâ”€â”€ css/                          # æ ·å¼æ–‡ä»¶
â”‚   â””â”€â”€ main.css                  # ä¸»æ ·å¼æ–‡ä»¶ï¼ˆå·¥ç¨‹è½¯ä»¶é…è‰² + å“åº”å¼ï¼‰
â”‚
â”œâ”€â”€ fonts/                        # å­—ä½“æ–‡ä»¶
â”‚   â”œâ”€â”€ Consola.ttf
â”‚   â”œâ”€â”€ Consolas.ttf
â”‚   â”œâ”€â”€ Papyrus.ttf
â”‚   â””â”€â”€ Roboto.ttf
â”‚
â”œâ”€â”€ icon/                         # å›¾æ ‡å’Œå›¾ç‰‡èµ„æº
â”‚   â”œâ”€â”€ favicon.ico
â”‚   â”œâ”€â”€ Logo.png
â”‚   â””â”€â”€ ...
â”‚
â”œâ”€â”€ js/                           # JavaScript æ–‡ä»¶
â”‚   â”œâ”€â”€ CADWorker/                # CAD å†…æ ¸ Worker çº¿ç¨‹
â”‚   â”‚   â”œâ”€â”€ AI3DStudioFileUtils.js
â”‚   â”‚   â”œâ”€â”€ AI3DStudioMainWorker.js
â”‚   â”‚   â”œâ”€â”€ AI3DStudioShapeToMesh.js
â”‚   â”‚   â”œâ”€â”€ AI3DStudioStandardLibrary.js
â”‚   â”‚   â””â”€â”€ AI3DStudioStandardUtils.js
â”‚   â”‚
â”‚   â”œâ”€â”€ MainPage/                 # ä¸»é¡µé¢é€»è¾‘
â”‚   â”‚   â”œâ”€â”€ CascadeMain.js        # ä¸»æ§åˆ¶å™¨ï¼ˆå·²ä¿®æ”¹ï¼šTab å¸ƒå±€ï¼‰
â”‚   â”‚   â”œâ”€â”€ CascadeView.js        # 3D è§†å›¾
â”‚   â”‚   â””â”€â”€ CascadeViewHandles.js # 3D äº¤äº’æ§åˆ¶
â”‚   â”‚
â”‚   â”œâ”€â”€ auth.js                   # âœ¨ ç”¨æˆ·è®¤è¯å’Œç§¯åˆ†ç®¡ç†
â”‚   â”œâ”€â”€ aiGenerator.js            # âœ¨ AI ä»£ç ç”Ÿæˆå™¨
â”‚   â”œâ”€â”€ config.js                 # âœ¨ é…ç½®æ–‡ä»¶ï¼ˆéœ€ç”¨æˆ·åˆ›å»ºï¼‰
â”‚   â”œâ”€â”€ config.example.js         # âœ¨ é…ç½®æ¨¡æ¿
â”‚   â””â”€â”€ StandardLibraryIntellisense.ts  # TypeScript ç±»å‹å®šä¹‰
â”‚
â”œâ”€â”€ node_modules/                 # npm ä¾èµ–åŒ…
â”‚   â”œâ”€â”€ @supabase/supabase-js/    # âœ¨ Supabase å®¢æˆ·ç«¯
â”‚   â”œâ”€â”€ axios/                    # âœ¨ HTTP å®¢æˆ·ç«¯
â”‚   â”œâ”€â”€ three/                    # Three.js 3D å¼•æ“
â”‚   â”œâ”€â”€ monaco-editor/            # Monaco ä»£ç ç¼–è¾‘å™¨
â”‚   â”œâ”€â”€ golden-layout/            # å¸ƒå±€ç³»ç»Ÿ
â”‚   â”œâ”€â”€ tweakpane/                # UI æ§ä»¶
â”‚   â”œâ”€â”€ opencascade.js/           # CAD å†…æ ¸
â”‚   â””â”€â”€ ...
â”‚
â”œâ”€â”€ test/                         # æµ‹è¯•æ–‡ä»¶
â”‚   â”œâ”€â”€ AI3DStudioTest.spec.ts
â”‚   â””â”€â”€ ...
â”‚
â”œâ”€â”€ textures/                     # çº¹ç†èµ„æº
â”‚   â””â”€â”€ dullFrontLitMetal.png
â”‚
â”œâ”€â”€ index.html                    # âœ¨ ä¸»é¡µé¢ï¼ˆå®Œå…¨é‡æ„ï¼‰
â”œâ”€â”€ package.json                  # âœ¨ npm é…ç½®ï¼ˆå·²æ›´æ–°ï¼‰
â”œâ”€â”€ package-lock.json             # npm é”å®šæ–‡ä»¶
â”‚
â”œâ”€â”€ .gitignore                    # âœ¨ Git å¿½ç•¥è§„åˆ™
â”œâ”€â”€ start.bat                     # âœ¨ Windows å¯åŠ¨è„šæœ¬
â”œâ”€â”€ start.sh                      # âœ¨ Linux/Mac å¯åŠ¨è„šæœ¬
â”œâ”€â”€ check-config.bat              # âœ¨ é…ç½®æ£€æŸ¥è„šæœ¬
â”‚
â”œâ”€â”€ README_CN.md                  # âœ¨ å®Œæ•´ä¸­æ–‡æ–‡æ¡£
â”œâ”€â”€ SETUP.md                      # âœ¨ é…ç½®è¯´æ˜
â”œâ”€â”€ QUICKSTART.md                 # âœ¨ å¿«é€Ÿå…¥é—¨æŒ‡å—
â”œâ”€â”€ AI_PROMPTS.md                 # âœ¨ AI æç¤ºè¯ç¤ºä¾‹
â”œâ”€â”€ CHANGELOG.md                  # âœ¨ æ›´æ–°æ—¥å¿—
â”œâ”€â”€ SUMMARY.md                    # âœ¨ é¡¹ç›®å®Œæˆæ€»ç»“
â”œâ”€â”€ PROJECT_STRUCTURE.md          # âœ¨ æœ¬æ–‡ä»¶
â”‚
â”œâ”€â”€ LICENSE                       # MIT è®¸å¯è¯
â”œâ”€â”€ manifest.webmanifest          # PWA é…ç½®
â”œâ”€â”€ service-worker.js             # Service Worker
â””â”€â”€ CNAME                         # GitHub Pages é…ç½®

âœ¨ = æ–°å¢æˆ–é‡å¤§ä¿®æ”¹çš„æ–‡ä»¶
```

## ğŸ“ ç›®å½•è¯¦è§£

### `/css/` - æ ·å¼æ–‡ä»¶

**main.css** (âœ¨ å®Œå…¨é‡å†™)
- å·¥ç¨‹è½¯ä»¶é…è‰²æ–¹æ¡ˆï¼ˆæ·±è“ç°è‰²ç³»ï¼‰
- å®Œæ•´çš„å“åº”å¼è®¾è®¡ï¼ˆæ¡Œé¢/å¹³æ¿/æ‰‹æœºï¼‰
- ç°ä»£åŒ–çš„åŠ¨ç”»æ•ˆæœ
- TweakPane ä¸»é¢˜å®šåˆ¶
- Golden Layout æ ·å¼è¦†ç›–

### `/js/` - JavaScript æ ¸å¿ƒä»£ç 

#### æ–°å¢æ–‡ä»¶

**auth.js** (âœ¨ æ–°å¢)
- `AuthManager` ç±»ï¼šç”¨æˆ·è®¤è¯ç®¡ç†
- Supabase é›†æˆ
- ç§¯åˆ†ç³»ç»Ÿé€»è¾‘
- ç”¨æˆ·ä¸­å¿ƒåŠŸèƒ½
- äº¤æ˜“è®°å½•ç®¡ç†

**aiGenerator.js** (âœ¨ æ–°å¢)
- `AIGenerator` ç±»ï¼šAI ä»£ç ç”Ÿæˆ
- DeepSeek API é›†æˆ
- Token è®¡è´¹é€»è¾‘
- é‡è¯•æœºåˆ¶
- é”™è¯¯å¤„ç†

**config.js** (âœ¨ éœ€åˆ›å»º)
- Supabase é…ç½®
- DeepSeek API é…ç½®
- ç§¯åˆ†ç³»ç»Ÿé…ç½®
- ä¸åº”æäº¤åˆ° Git

**config.example.js** (âœ¨ æ–°å¢)
- é…ç½®æ–‡ä»¶æ¨¡æ¿
- åŒ…å«è¯¦ç»†æ³¨é‡Š
- ç”¨æˆ·å¤åˆ¶åå¡«å†™

#### ä¿®æ”¹æ–‡ä»¶

**MainPage/CascadeMain.js** (âœ¨ å·²ä¿®æ”¹)
- ä¿®æ”¹å¸ƒå±€é…ç½®ï¼šä»å·¦å³åˆ†æ æ”¹ä¸º Tab åˆ‡æ¢
- ä½¿ç”¨ `stack` ç±»å‹çš„ Golden Layout
- ä¿ç•™æ‰€æœ‰åŸæœ‰åŠŸèƒ½

### `/node_modules/` - ä¾èµ–åŒ…

#### æ–°å¢ä¾èµ–
- `@supabase/supabase-js` - ç”¨æˆ·è®¤è¯å’Œæ•°æ®åº“
- `axios` - HTTP è¯·æ±‚åº“

#### åŸæœ‰ä¾èµ–
- `opencascade.js` - CAD å†…æ ¸
- `three` - 3D æ¸²æŸ“å¼•æ“
- `monaco-editor` - ä»£ç ç¼–è¾‘å™¨
- `golden-layout` - çª—å£å¸ƒå±€ç³»ç»Ÿ
- `tweakpane` - UI æ§ä»¶åº“
- `jquery` - DOM æ“ä½œ

### æ ¹ç›®å½•æ–‡ä»¶

#### HTML æ–‡ä»¶

**index.html** (âœ¨ å®Œå…¨é‡æ„)
- æ–°å¢ AI è¾“å…¥é¢æ¿
- ä¼˜åŒ–çš„å¯¼èˆªèœå•
- ç”¨æˆ·è®¤è¯æ¨¡æ€æ¡†
- ç”¨æˆ·ä¸­å¿ƒæ¨¡æ€æ¡†
- å“åº”å¼å¸ƒå±€æ”¯æŒ
- å¼•å…¥æ–°çš„ JS æ–‡ä»¶

#### é…ç½®æ–‡ä»¶

**package.json** (âœ¨ å·²æ›´æ–°)
- æ›´æ–°é¡¹ç›®åç§°å’Œæè¿°
- æ·»åŠ æ–°ä¾èµ–
- æ·»åŠ å¯åŠ¨è„šæœ¬

**.gitignore** (âœ¨ æ–°å¢)
- å¿½ç•¥ `node_modules/`
- å¿½ç•¥ `js/config.js`ï¼ˆä¿æŠ¤å¯†é’¥ï¼‰
- å¿½ç•¥ä¸´æ—¶æ–‡ä»¶

#### è„šæœ¬æ–‡ä»¶

**start.bat** (âœ¨ æ–°å¢)
- Windows å¯åŠ¨è„šæœ¬
- è‡ªåŠ¨æ£€æŸ¥é…ç½®
- è‡ªåŠ¨å®‰è£…ä¾èµ–
- å¯åŠ¨å¼€å‘æœåŠ¡å™¨

**start.sh** (âœ¨ æ–°å¢)
- Linux/Mac å¯åŠ¨è„šæœ¬
- åŠŸèƒ½åŒ start.bat

**check-config.bat** (âœ¨ æ–°å¢)
- é…ç½®æ£€æŸ¥å·¥å…·
- éªŒè¯é…ç½®æ–‡ä»¶å®Œæ•´æ€§

#### æ–‡æ¡£æ–‡ä»¶

**README_CN.md** (âœ¨ æ–°å¢)
- å®Œæ•´çš„ä¸­æ–‡æ–‡æ¡£
- åŠŸèƒ½ä»‹ç»
- å®‰è£…è¯´æ˜
- ä½¿ç”¨æŒ‡å—
- API æ–‡æ¡£

**SETUP.md** (âœ¨ æ–°å¢)
- è¯¦ç»†çš„é…ç½®æ­¥éª¤
- Supabase è®¾ç½®
- DeepSeek API è·å–
- æ•°æ®åº“ SQL è„šæœ¬
- å¸¸è§é—®é¢˜

**QUICKSTART.md** (âœ¨ æ–°å¢)
- 5 åˆ†é’Ÿå¿«é€Ÿå…¥é—¨
- åˆ†æ­¥éª¤æŒ‡å¯¼
- ç¤ºä¾‹é¡¹ç›®
- ä½¿ç”¨æŠ€å·§

**AI_PROMPTS.md** (âœ¨ æ–°å¢)
- AI æç¤ºè¯ç¤ºä¾‹
- æœ€ä½³å®è·µ
- å¸¸è§æ¨¡å¼
- è¿›é˜¶æŠ€å·§

**CHANGELOG.md** (âœ¨ æ–°å¢)
- ç‰ˆæœ¬å†å²
- åŠŸèƒ½æ›´æ–°
- ç ´åæ€§å˜æ›´
- æœªæ¥è®¡åˆ’

**SUMMARY.md** (âœ¨ æ–°å¢)
- ä»»åŠ¡å®Œæˆæ€»ç»“
- åŠŸèƒ½å¯¹æ¯”
- æŠ€æœ¯æ ˆè¯´æ˜
- ä½¿ç”¨æµç¨‹

**PROJECT_STRUCTURE.md** (âœ¨ æœ¬æ–‡ä»¶)
- é¡¹ç›®ç»“æ„è¯´æ˜
- æ–‡ä»¶åŠŸèƒ½æè¿°
- å¼€å‘æŒ‡å—

## ğŸ”§ å¼€å‘æŒ‡å—

### æ·»åŠ æ–°åŠŸèƒ½

1. **å‰ç«¯åŠŸèƒ½**
   - åœ¨ `js/` ç›®å½•åˆ›å»ºæ–°æ–‡ä»¶
   - åœ¨ `index.html` ä¸­å¼•å…¥
   - åœ¨ `css/main.css` ä¸­æ·»åŠ æ ·å¼

2. **AI åŠŸèƒ½**
   - ä¿®æ”¹ `js/aiGenerator.js`
   - æ›´æ–°æç¤ºè¯æ¨¡æ¿
   - è°ƒæ•´è®¡è´¹é€»è¾‘

3. **ç”¨æˆ·åŠŸèƒ½**
   - ä¿®æ”¹ `js/auth.js`
   - æ›´æ–° Supabase æ•°æ®åº“ç»“æ„
   - æ·»åŠ æ–°çš„ RLS ç­–ç•¥

### ä¿®æ”¹æ ·å¼

1. **å…¨å±€æ ·å¼**
   - ä¿®æ”¹ `css/main.css` ä¸­çš„ CSS å˜é‡
   - æ›´æ–°é¢œè‰²æ–¹æ¡ˆ
   - è°ƒæ•´å“åº”å¼æ–­ç‚¹

2. **ç»„ä»¶æ ·å¼**
   - åœ¨ `css/main.css` ä¸­æ‰¾åˆ°å¯¹åº”çš„ç±»
   - ä¿æŒå‘½åä¸€è‡´æ€§
   - æµ‹è¯•å“åº”å¼æ•ˆæœ

### è°ƒè¯•æŠ€å·§

1. **å‰ç«¯è°ƒè¯•**
   - ä½¿ç”¨æµè§ˆå™¨å¼€å‘è€…å·¥å…·
   - æŸ¥çœ‹æ§åˆ¶å°æ—¥å¿—
   - æ£€æŸ¥ç½‘ç»œè¯·æ±‚

2. **Worker è°ƒè¯•**
   - æŸ¥çœ‹ Worker çº¿ç¨‹æ—¥å¿—
   - ä½¿ç”¨ `console.log` è¾“å‡º
   - æ£€æŸ¥æ¶ˆæ¯ä¼ é€’

3. **æ•°æ®åº“è°ƒè¯•**
   - ä½¿ç”¨ Supabase æ§åˆ¶å°
   - æŸ¥çœ‹è¡¨æ•°æ®
   - æ£€æŸ¥ RLS ç­–ç•¥

## ğŸ“¦ éƒ¨ç½²æŒ‡å—

### æœ¬åœ°å¼€å‘

```bash
npm install
npm start
```

### ç”Ÿäº§éƒ¨ç½²

1. **é™æ€æ‰˜ç®¡**ï¼ˆæ¨èï¼‰
   - GitHub Pages
   - Netlify
   - Vercel

2. **é…ç½®ç¯å¢ƒå˜é‡**
   - ä¸è¦æäº¤ `js/config.js`
   - ä½¿ç”¨ç¯å¢ƒå˜é‡æˆ–æ„å»ºæ—¶æ³¨å…¥

3. **ä¼˜åŒ–**
   - å‹ç¼© CSS/JS
   - å¯ç”¨ CDN
   - é…ç½®ç¼“å­˜ç­–ç•¥

## ğŸ”’ å®‰å…¨æ³¨æ„äº‹é¡¹

### æ•æ„Ÿæ–‡ä»¶

**ç»å¯¹ä¸è¦æäº¤åˆ° Git:**
- `js/config.js` - åŒ…å« API å¯†é’¥
- `.env` - ç¯å¢ƒå˜é‡æ–‡ä»¶

**å·²åœ¨ .gitignore ä¸­:**
```
js/config.js
.env
.env.local
```

### API å¯†é’¥ä¿æŠ¤

1. **å¼€å‘ç¯å¢ƒ**
   - ä½¿ç”¨ `config.js` æœ¬åœ°é…ç½®
   - ä¸æäº¤åˆ°ç‰ˆæœ¬æ§åˆ¶

2. **ç”Ÿäº§ç¯å¢ƒ**
   - ä½¿ç”¨ç¯å¢ƒå˜é‡
   - ä½¿ç”¨æœåŠ¡å™¨ç«¯ä»£ç†
   - é™åˆ¶ API å¯†é’¥æƒé™

## ğŸ“Š æ–‡ä»¶å¤§å°ç»Ÿè®¡

```
æ€»è®¡: ~50MB (ä¸»è¦æ˜¯ node_modules)

æ ¸å¿ƒæ–‡ä»¶:
- index.html: ~15KB
- css/main.css: ~25KB
- js/auth.js: ~8KB
- js/aiGenerator.js: ~6KB
- js/MainPage/CascadeMain.js: ~20KB

ä¾èµ–åŒ…:
- node_modules/: ~45MB
- opencascade.js: ~15MB
- three.js: ~5MB
- monaco-editor: ~10MB
```

## ğŸ¯ å…³é”®æ–‡ä»¶é€ŸæŸ¥

| åŠŸèƒ½ | æ–‡ä»¶ä½ç½® |
|------|---------|
| é¡µé¢å¸ƒå±€ | `index.html` |
| æ ·å¼è®¾è®¡ | `css/main.css` |
| Tab åˆ‡æ¢ | `js/MainPage/CascadeMain.js` |
| AI ç”Ÿæˆ | `js/aiGenerator.js` |
| ç”¨æˆ·ç³»ç»Ÿ | `js/auth.js` |
| é…ç½® | `js/config.js` |
| 3D æ¸²æŸ“ | `js/MainPage/CascadeView.js` |
| CAD å†…æ ¸ | `js/CADWorker/AI3DStudioMainWorker.js` |

## ğŸ“ ç»´æŠ¤å»ºè®®

### å®šæœŸæ›´æ–°

1. **ä¾èµ–åŒ…**
   ```bash
   npm update
   npm audit fix
   ```

2. **æ–‡æ¡£**
   - ä¿æŒæ–‡æ¡£ä¸ä»£ç åŒæ­¥
   - æ›´æ–°ç‰ˆæœ¬å·
   - è®°å½•é‡è¦å˜æ›´

3. **å¤‡ä»½**
   - å®šæœŸå¤‡ä»½æ•°æ®åº“
   - å¯¼å‡ºç”¨æˆ·æ•°æ®
   - ä¿å­˜é…ç½®æ–‡ä»¶

### ç›‘æ§

1. **API ä½¿ç”¨é‡**
   - DeepSeek API è°ƒç”¨æ¬¡æ•°
   - Supabase æ•°æ®åº“æŸ¥è¯¢
   - å­˜å‚¨ç©ºé—´ä½¿ç”¨

2. **ç”¨æˆ·åé¦ˆ**
   - GitHub Issues
   - é”™è¯¯æ—¥å¿—
   - ä½¿ç”¨ç»Ÿè®¡

---

**é¡¹ç›®ç»“æ„æ¸…æ™°ï¼Œæ˜“äºç»´æŠ¤å’Œæ‰©å±•ï¼** ğŸ‰
