# 更新日志

## [1.0.0] - 2026-01-17

### 🎉 重大更新

这是 AI 3D Studio 的首个正式版本，基于 Cascade Studio 进行了全面升级。

### ✨ 新增功能

#### 1. Tab 页面布局
- ✅ 将代码编辑器与 3D 视图合并到同一区域
- ✅ 使用 Tab 标签页切换，节省屏幕空间
- ✅ 底部保留控制台窗口，实时显示日志

#### 2. AI 代码生成
- ✅ 集成 DeepSeek API
- ✅ 顶部 AI 输入框，支持自然语言描述
- ✅ 一键生成 3D 模型代码
- ✅ 自动评估并渲染生成的代码
- ✅ 支持重试机制，提高成功率

#### 3. 用户认证系统
- ✅ 基于 Supabase 的用户注册和登录
- ✅ 邮箱验证
- ✅ 安全的密码存储
- ✅ 会话管理

#### 4. 积分系统
- ✅ 新用户注册赠送 100 积分
- ✅ AI 生成按 token 消耗积分
- ✅ 实时显示剩余积分
- ✅ 积分不足提醒
- ✅ 完整的消费记录
- ✅ 用户中心查看积分和历史

#### 5. 优化的菜单系统
- ✅ 分类清晰的菜单结构
  - 文件：保存、加载项目
  - 导出：STEP、STL、OBJ
  - 导入：STEP、IGES、STL
- ✅ 图标化菜单项，更直观
- ✅ 响应式菜单，适配移动端

#### 6. 响应式设计
- ✅ 桌面端优化布局
- ✅ 平板端适配
- ✅ 手机端完美支持
  - 折叠式菜单
  - 垂直布局
  - 触摸优化
- ✅ 自适应字体和控件大小

#### 7. 工程软件配色
- ✅ 深蓝灰色主题（类似 AutoCAD/SolidWorks）
- ✅ 专业的渐变效果
- ✅ 清晰的视觉层次
- ✅ 优化的对比度
- ✅ 护眼的暗色调

### 🎨 UI/UX 改进

#### 视觉设计
- ✅ 现代化的渐变背景
- ✅ 流畅的动画效果
- ✅ 悬停状态反馈
- ✅ 阴影和深度效果
- ✅ 统一的圆角设计

#### 交互体验
- ✅ 平滑的过渡动画
- ✅ 加载状态提示
- ✅ 错误提示优化
- ✅ 快捷键支持（F5 评估，Ctrl+S 保存）
- ✅ 模态框淡入淡出

#### 可访问性
- ✅ 清晰的文字对比度
- ✅ 合理的字体大小
- ✅ 触摸友好的按钮尺寸
- ✅ 键盘导航支持

### 🔧 技术改进

#### 架构优化
- ✅ 模块化的代码结构
- ✅ 配置文件分离
- ✅ 环境变量支持
- ✅ 错误处理机制

#### 性能优化
- ✅ 懒加载优化
- ✅ 资源缓存
- ✅ 减少重绘
- ✅ 异步操作优化

#### 安全性
- ✅ Supabase 行级安全策略
- ✅ API 密钥保护
- ✅ 配置文件 .gitignore
- ✅ 输入验证

### 📦 依赖更新

#### 新增依赖
- `@supabase/supabase-js` ^2.90.1 - 用户认证和数据库
- `axios` ^1.13.2 - HTTP 请求

#### 保留依赖
- `opencascade.js` ^0.1.15 - CAD 内核
- `three` ^0.129.0 - 3D 渲染
- `monaco-editor` ^0.20.0 - 代码编辑器
- `golden-layout` ^1.5.9 - 布局系统
- `tweakpane` ^3.0.5 - UI 控件
- `jquery` ^3.5.1 - DOM 操作

### 📚 文档

#### 新增文档
- ✅ `README_CN.md` - 中文完整文档
- ✅ `SETUP.md` - 配置说明
- ✅ `AI_PROMPTS.md` - AI 提示词示例
- ✅ `CHANGELOG.md` - 更新日志

#### 配置文件
- ✅ `js/config.example.js` - 配置模板
- ✅ `.gitignore` - Git 忽略规则

#### 脚本文件
- ✅ `start.bat` - Windows 启动脚本
- ✅ `start.sh` - Linux/Mac 启动脚本
- ✅ `check-config.bat` - 配置检查脚本

### 🔄 迁移指南

从原版 Cascade Studio 迁移：

1. **备份项目** - 保存现有的 .json 项目文件
2. **安装依赖** - 运行 `npm install`
3. **配置服务** - 按照 `SETUP.md` 配置 Supabase 和 DeepSeek
4. **导入项目** - 使用"加载项目"功能导入旧项目

### ⚠️ 破坏性变更

- 布局从左右分栏改为 Tab 切换
- 顶部菜单栏重新设计
- 需要配置 Supabase 和 DeepSeek 才能使用完整功能

### 🐛 已知问题

- AI 生成的代码可能需要手动调整
- 复杂模型的 AI 生成成功率较低
- 移动端 3D 视图性能可能受限

### 🔮 未来计划

#### v1.1.0
- [ ] 积分充值功能
- [ ] 更多 AI 模型选择
- [ ] 代码模板库
- [ ] 项目分享功能

#### v1.2.0
- [ ] 协作编辑
- [ ] 云端项目存储
- [ ] 版本历史
- [ ] 评论系统

#### v2.0.0
- [ ] 插件系统
- [ ] 自定义主题
- [ ] 高级渲染选项
- [ ] VR/AR 支持

### 🙏 致谢

- 感谢 [Cascade Studio](https://github.com/zalo/CascadeStudio) 提供的优秀基础
- 感谢 OpenCascade.js 团队
- 感谢 Supabase 和 DeepSeek 提供的服务

### 📝 许可证

MIT License - 详见 LICENSE 文件

---

**注意**: 这是一个重大版本更新，建议在升级前备份所有项目文件。
